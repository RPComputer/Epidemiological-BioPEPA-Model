%
% example_classes001_demo.m
%
% MATLAB demo function for the vector field: example_classes001
%
% This file was generated by the program VFGEN, version: 2.6.0.dev3
% Generated on 12-May-2022 at 18:07
%
%

function example_classes001_demo
    figure;
    clf
    set(gcf,'Position',[0 0 250 540]);
    v = [];
    uicontrol('Style','text','Position',[10 520 100 18],'String','Iy_(0)');
    ui = uicontrol('Style','edit','Position',[115 520 100 18],'String','10');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 500 100 18],'String','Im_(0)');
    ui = uicontrol('Style','edit','Position',[115 500 100 18],'String','10');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 480 100 18],'String','Io_(0)');
    ui = uicontrol('Style','edit','Position',[115 480 100 18],'String','0');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 460 100 18],'String','Sy_(0)');
    ui = uicontrol('Style','edit','Position',[115 460 100 18],'String','990');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 440 100 18],'String','Sm_(0)');
    ui = uicontrol('Style','edit','Position',[115 440 100 18],'String','490');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 420 100 18],'String','So_(0)');
    ui = uicontrol('Style','edit','Position',[115 420 100 18],'String','500');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 400 100 18],'String','Ry_(0)');
    ui = uicontrol('Style','edit','Position',[115 400 100 18],'String','0');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 380 100 18],'String','Rm_(0)');
    ui = uicontrol('Style','edit','Position',[115 380 100 18],'String','0');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 360 100 18],'String','Ro_(0)');
    ui = uicontrol('Style','edit','Position',[115 360 100 18],'String','0');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 340 100 18],'String','D_(0)');
    ui = uicontrol('Style','edit','Position',[115 340 100 18],'String','0');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 320 100 18],'String','k1_');
    ui = uicontrol('Style','edit','Position',[115 320 100 18],'String','0.0027714317627578586');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 300 100 18],'String','k2_');
    ui = uicontrol('Style','edit','Position',[115 300 100 18],'String','0.027714317627578585');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 280 100 18],'String','k3_');
    ui = uicontrol('Style','edit','Position',[115 280 100 18],'String','0.002494288586482073');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 260 100 18],'String','k4_');
    ui = uicontrol('Style','edit','Position',[115 260 100 18],'String','0.0038800044678610015');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 240 100 18],'String','k5_');
    ui = uicontrol('Style','edit','Position',[115 240 100 18],'String','0.0022171454102062867');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 220 100 18],'String','k6_');
    ui = uicontrol('Style','edit','Position',[115 220 100 18],'String','0.0013857158813789293');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 200 100 18],'String','k7_');
    ui = uicontrol('Style','edit','Position',[115 200 100 18],'String','5.542863525515717E-4');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 180 100 18],'String','r1_');
    ui = uicontrol('Style','edit','Position',[115 180 100 18],'String','0.005');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 160 100 18],'String','r2_');
    ui = uicontrol('Style','edit','Position',[115 160 100 18],'String','0.0035');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 140 100 18],'String','r3_');
    ui = uicontrol('Style','edit','Position',[115 140 100 18],'String','0.0025');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 120 100 18],'String','r4_');
    ui = uicontrol('Style','edit','Position',[115 120 100 18],'String','1.0E-4');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 100 100 18],'String','r5_');
    ui = uicontrol('Style','edit','Position',[115 100 100 18],'String','5.5E-4');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 80 100 18],'String','r6_');
    ui = uicontrol('Style','edit','Position',[115 80 100 18],'String','0.001');
    v = [v; ui];
    uicontrol('Style','text','Position',[10 60 100 18],'String','Stop Time');
    ui = uicontrol('Style','edit','Position',[115 60 100 18],'String','10');
    v = [v; ui];
    ui = uicontrol('Style','checkbox','Position',[10 40 200 18],'String','Separate Axes');
    v = [v; ui];
    uicontrol('Style','pushbutton','Position',[10 20 40 18],'String','Go','Callback',@go_cb,'UserData',v);
end

function go_cb(arg1,arg2)
    v = get(arg1,'UserData');
    ic = zeros(size(v,1)-2,1);
    for k = 1:size(v,1)-2,
        ic(k) = eval(get(v(k),'String'));
        if (isnan(ic(k)))
            ic(k) = 0.0;
        end;
    end;
    stoptime = str2double(get(v(end-1),'String'));
    if (isnan(stoptime))
        stoptime = 0.0;
    end;
    abstol = 1e-9;
    reltol = 1e-7;
    opts = odeset('AbsTol',abstol,'RelTol',reltol,'Jacobian',@example_classes001_jac);
    % Change ode45 to ode15s for stiff differential equations.
    [t,z_] = ode45(@example_classes001_vf,[0 stoptime],ic(1:10),opts,ic(11:end));
    figure;
    clf;
    a = get(v(end),'Value');
    if (a == 0),
        plot(t,z_);
        xlabel('t');
        legend('Iy_','Im_','Io_','Sy_','Sm_','So_','Ry_','Rm_','Ro_','D_');
    grid on
    else
        subplot(10,1,1);
        plot(t,z_(:,1))
        xlabel('t');
        ylabel('Iy_')
        grid on
        subplot(10,1,2);
        plot(t,z_(:,2))
        xlabel('t');
        ylabel('Im_')
        grid on
        subplot(10,1,3);
        plot(t,z_(:,3))
        xlabel('t');
        ylabel('Io_')
        grid on
        subplot(10,1,4);
        plot(t,z_(:,4))
        xlabel('t');
        ylabel('Sy_')
        grid on
        subplot(10,1,5);
        plot(t,z_(:,5))
        xlabel('t');
        ylabel('Sm_')
        grid on
        subplot(10,1,6);
        plot(t,z_(:,6))
        xlabel('t');
        ylabel('So_')
        grid on
        subplot(10,1,7);
        plot(t,z_(:,7))
        xlabel('t');
        ylabel('Ry_')
        grid on
        subplot(10,1,8);
        plot(t,z_(:,8))
        xlabel('t');
        ylabel('Rm_')
        grid on
        subplot(10,1,9);
        plot(t,z_(:,9))
        xlabel('t');
        ylabel('Ro_')
        grid on
        subplot(10,1,10);
        plot(t,z_(:,10))
        xlabel('t');
        ylabel('D_')
        grid on
    end
end
